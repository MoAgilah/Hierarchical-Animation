#include "Animation.h"

Animation::Animation(const string& fName, const string& afName, const bool& loop, const double& scalar)
	:name(afName), shouldLoop(loop)
{
	if (Application::aniP->LoadFromFile(fName, afName)){
		ani = Application::aniP->PrepAnimationData(scalar);
		SetKeyFrames();
	}
}


Animation::~Animation()
{
}

void Animation::SetKeyFrames()
{
	keyframes = ani[0].kframe;
	for (int i = 1; i < ani.size(); ++i)
	{
		if (keyframes.size() < ani[i].kframe.size())
		{
			keyframes = ani[i].kframe;
		}
	}
}

vector<anim> Animation::GetFrameTrans()
{
	return ani;
}

vector<float> Animation::GetKeyframes()
{
	return keyframes;
}

bool Animation::GetShouldLoop()
{
	return shouldLoop;
}



	