#ifndef BulletH
#define BulletH

#include "Application.h"
#include "MeshComponent.h"

class Bullet
{
public:
	Bullet(const XMFLOAT4& pos, const XMFLOAT4& rot, const XMVECTOR& fVec);
	~Bullet(void);
	void Update(const float& deltaTime);
	void Draw(void);
	void SetWorldPosition(float fX, float fY, float fZ);
	bool GetActive(){ return p_active; }
private:
	void UpdateMatrices(void);
	CommonMesh* p_Bullet;

	static bool p_active;

	float timer;

	XMFLOAT4 m_v4Rot;
	XMFLOAT4 m_v4Pos;

	XMVECTOR m_vForwardVector;
	float m_fSpeed;

	XMMATRIX m_mWorldTrans;							// World translation matrix
	XMMATRIX m_mWorldMatrix;						// World transformation matrix
public:
	void* operator new(size_t i)
	{
		return _mm_malloc(i, 16);
	}

		void operator delete(void* p)
	{
		_mm_free(p);
	}
};

#endif